"use strict";(self.webpackChunkafms_optimizer=self.webpackChunkafms_optimizer||[]).push([[2791],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,k=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(k,i(i({ref:t},s),{},{components:n})):r.createElement(k,i({ref:t},s))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7493:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={slug:"set-up-frontend-client-java-script-on-docker",title:"Set Up Frontend Client (JavaScript) on Docker",authors:["eldoraboo"],tags:["tutorial"]},i=void 0,l={permalink:"/blog/set-up-frontend-client-java-script-on-docker",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-02-08-set-up-frontend-client-java-script-on-docker.md",source:"@site/blog/2023-02-08-set-up-frontend-client-java-script-on-docker.md",title:"Set Up Frontend Client (JavaScript) on Docker",description:"Prerequisities",date:"2023-02-08T00:00:00.000Z",formattedDate:"February 8, 2023",tags:[{label:"tutorial",permalink:"/blog/tags/tutorial"}],readingTime:2.995,hasTruncateMarker:!1,authors:[{name:"Eldora Boo",title:"Data Engineer of AFMS Project",url:"https://github.com/eldoraboo",imageURL:"https://github.com/eldoraboo.png",key:"eldoraboo"}],frontMatter:{slug:"set-up-frontend-client-java-script-on-docker",title:"Set Up Frontend Client (JavaScript) on Docker",authors:["eldoraboo"],tags:["tutorial"]},prevItem:{title:"Set Up Backend Server (Python) on Docker",permalink:"/blog/set-up-backend-server-python-on-docker"}},c={authorsImageUrls:[void 0]},p=[{value:"Prerequisities",id:"prerequisities",level:3},{value:"Step 1: Open Docker Desktop",id:"step-1-open-docker-desktop",level:3},{value:"Step 2: Create a Dockerfile",id:"step-2-create-a-dockerfile",level:3},{value:"Step 3: Build the Docker Image",id:"step-3-build-the-docker-image",level:3},{value:"Step 4: Run the Docker Container",id:"step-4-run-the-docker-container",level:3},{value:"Step 5: Check the Running Containers",id:"step-5-check-the-running-containers",level:3},{value:"Step 6: Access the Create React App",id:"step-6-access-the-create-react-app",level:3},{value:"Step 7: Check the Docker Logs",id:"step-7-check-the-docker-logs",level:3},{value:"Step 8: Stop the Docker Container",id:"step-8-stop-the-docker-container",level:3},{value:"Final Words",id:"final-words",level:3}],s={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"prerequisities"},"Prerequisities"),(0,a.kt)("p",null,"This article assumes we already have started a ",(0,a.kt)("inlineCode",{parentName:"p"},"create-react-app")," project."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"npx create-react-app client-frontend\ncd client-frontend\nnpm start\n")),(0,a.kt)("h3",{id:"step-1-open-docker-desktop"},"Step 1: Open Docker Desktop"),(0,a.kt)("p",null,"To get started with Docker, you need to have Docker Desktop installed on your machine. If you haven\u2019t already, download and install it from the official website. Once installed, open Docker Desktop and make sure that it is running."),(0,a.kt)("h3",{id:"step-2-create-a-dockerfile"},"Step 2: Create a Dockerfile"),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Dockerfile")," is a script that contains all the instructions required to build a Docker image. In our case, we want to build an image for a Create React App. To do this, we\u2019ll need to include the following components in our Dockerfile:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The base image (e.g.",(0,a.kt)("inlineCode",{parentName:"li"},"node:18-alpine"),")"),(0,a.kt)("li",{parentName:"ol"},"The required dependencies (e.g., the Create React App dependencies)"),(0,a.kt)("li",{parentName:"ol"},"The code for the Create React App")),(0,a.kt)("p",null,"Here\u2019s an example of a simple ",(0,a.kt)("inlineCode",{parentName:"p"},"Dockerfile")," for a Create React App:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"title=Dockerfile withLineNumbers",title:"Dockerfile",withLineNumbers:!0},'# Stage 1\nFROM node:18-alpine as builder\nWORKDIR /app\nCOPY package.json .\nCOPY yarn.lock .\nRUN yarn install\nCOPY . .\nRUN yarn build\n\n# Stage 2\n\nFROM nginx:1.19.0\nWORKDIR /usr/share/nginx/html\nRUN rm -rf ./\\*\nCOPY --from=builder /app/build .\nENTRYPOINT ["nginx", "-g", "daemon off;"]\n\n')),(0,a.kt)("p",null,"In this example, we\u2019re using the official Node image as the base image and installing the required dependencies using ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install"),". We\u2019re also copying the code for the Create React App to the working directory and setting the environment variable for React.js. Make a ",(0,a.kt)("inlineCode",{parentName:"p"},".dockerignore")," file as well."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"title=.dockerignore withLineNumbers",title:".dockerignore",withLineNumbers:!0},"/node_modules\n")),(0,a.kt)("h3",{id:"step-3-build-the-docker-image"},"Step 3: Build the Docker Image"),(0,a.kt)("p",null,"Once you have created the ",(0,a.kt)("inlineCode",{parentName:"p"},"Dockerfile"),", you can use the following command to build the Docker image:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"docker build . -t client-frontend \n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"docker build")," command builds the Docker image using the instructions in the\nDockerfile. The ",(0,a.kt)("inlineCode",{parentName:"p"},".")," argument specifies the location of the Dockerfile, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"-t"),"\nargument specifies the name and tag of the image (in this case, ",(0,a.kt)("inlineCode",{parentName:"p"},"client-frontend"),")."),(0,a.kt)("h3",{id:"step-4-run-the-docker-container"},"Step 4: Run the Docker Container"),(0,a.kt)("p",null,"Once the Docker image has been built, you can use the following command to run the Docker container:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"docker run -d -p 8080:80 client-frontend\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"docker run")," command runs the Docker container from the image. The ",(0,a.kt)("inlineCode",{parentName:"p"},"-d")," argument\nspecifies that the container should run in the background, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"-p")," argument\nmaps port ",(0,a.kt)("inlineCode",{parentName:"p"},"80")," in the container to port ",(0,a.kt)("inlineCode",{parentName:"p"},"8080")," on the host."),(0,a.kt)("h3",{id:"step-5-check-the-running-containers"},"Step 5: Check the Running Containers"),(0,a.kt)("p",null,"To check the running containers, you can use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"docker ps -a\n")),(0,a.kt)("h3",{id:"step-6-access-the-create-react-app"},"Step 6: Access the Create React App"),(0,a.kt)("p",null,"To access the Create React App, visit ",(0,a.kt)("inlineCode",{parentName:"p"},"localhost:8080")),(0,a.kt)("h3",{id:"step-7-check-the-docker-logs"},"Step 7: Check the Docker Logs"),(0,a.kt)("p",null,"If you encounter any issues, you can check the Docker logs to see what might be causing the problem. Use the following command to view the logs:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"docker logs <container_id>\n")),(0,a.kt)("p",null,"Replace ",(0,a.kt)("inlineCode",{parentName:"p"},"<container_id>")," with the actual ID of the container you want to view the logs for."),(0,a.kt)("h3",{id:"step-8-stop-the-docker-container"},"Step 8: Stop the Docker Container"),(0,a.kt)("p",null,"When you\u2019re done, you can stop the Docker container using the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"docker stop <container_id>\n")),(0,a.kt)("p",null,"Replace ",(0,a.kt)("inlineCode",{parentName:"p"},"<container_id>")," with the actual ID of the container you want to view the logs for."),(0,a.kt)("h3",{id:"final-words"},"Final Words"),(0,a.kt)("p",null,"In case the port 8080 is already in use, you can use the following command to check which processes are involved:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"sudo lsof -i -P -n | grep 8080\n")),(0,a.kt)("p",null,"Lastly, to kill the process involved, use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:"Terminal",Terminal:!0},"kill -9 <pid>\n")),(0,a.kt)("p",null,"Replace ",(0,a.kt)("inlineCode",{parentName:"p"},"<pid>")," with the actual process ID of the process you want to kill."))}d.isMDXComponent=!0}}]);